<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<body>

    <div th:fragment="sidebar(activePage, roleName)" class="sidebar" id="sidebar">
        <div class="logo">
            <h4 th:text="${roleName}"></h4>
        </div>
        <div class="p-3" th:if="${!#strings.equals(roleName, 'Customer')}">
            <form th:action="@{/search}" method="get" class="d-flex">
                <input class="form-control me-2" type="search" name="keyword" placeholder="Search..." aria-label="Search">
                <button class="btn btn-outline-light" type="submit"><i class="fas fa-search"></i></button>
            </form>
        </div>
        <ul class="nav flex-column sidebar-nav">
            <li class="nav-item">
                <a class="nav-link" th:href="@{${#strings.equals(roleName, 'Customer') ? '/customer/dashboard' :
                                                   #strings.equals(roleName, 'Customer Service Executive') ? '/cse/dashboard' :
                                                   #strings.equals(roleName, 'Senior Insurance Advisor') ? '/sia/dashboard' :
                                                   #strings.equals(roleName, 'Finance Officer') ? '/fo/dashboard' :
                                                   #strings.equals(roleName, 'HR/Admin Manager') ? '/admin/dashboard' :
                                                   #strings.equals(roleName, 'IT System Analyst') ? '/isa/dashboard' : ''}}"
                   th:classappend="${activePage == 'dashboard'} ? 'active' : ''">
                    <i class="fas fa-tachometer-alt"></i>
                    <span>Dashboard</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'Customer')}">
                <a class="nav-link" href="/customer/apply-policy" th:classappend="${activePage == 'apply'} ? 'active' : ''">
                    <i class="fas fa-file-alt"></i>
                    <span>Apply for Policy</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'Customer')}">
                <a class="nav-link" href="/customer/policies" th:classappend="${activePage == 'policies'} ? 'active' : ''">
                    <i class="fas fa-history"></i>
                    <span>View Policies & History</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'Customer')}">
                <a class="nav-link" href="/customer/file-claim" th:classappend="${activePage == 'claims'} ? 'active' : ''">
                    <i class="fas fa-hands-helping"></i>
                    <span>File a Claim</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'Customer')}">
                <a class="nav-link" href="/customer/announcements" th:classappend="${activePage == 'announcements'} ? 'active' : ''">
                    <i class="fas fa-bullhorn"></i>
                    <span>Announcements</span>
                </a>
            </li>
            <li class="nav-item" th:if="${!#strings.equals(roleName, 'Customer')}">
                <a class="nav-link" href="/messages/inbox" th:classappend="${activePage == 'messages'} ? 'active' : ''">
                    <i class="fas fa-envelope"></i>
                    <span>Messages</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'Customer Service Executive')}">
                <a class="nav-link" href="/cse/create-customer" th:classappend="${activePage == 'create-customer'} ? 'active' : ''">
                    <i class="fas fa-user-plus"></i>
                    <span>Create Customer Profile</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'Customer Service Executive')}">
                <a class="nav-link" href="/cse/applications" th:classappend="${activePage == 'applications'} ? 'active' : ''">
                    <i class="fas fa-tasks"></i>
                    <span>Manage Applications</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'Customer Service Executive')}">
                <a class="nav-link" href="/cse/claims" th:classappend="${activePage == 'claims'} ? 'active' : ''">
                    <i class="fas fa-file-invoice"></i>
                    <span>Manage Claims</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'Customer Service Executive')}">
                <a class="nav-link" href="/cse/review-updates" th:classappend="${activePage == 'review-updates'} ? 'active' : ''">
                    <i class="fas fa-user-check"></i>
                    <span>Review Customer Updates</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'Senior Insurance Advisor')}">
                <a class="nav-link" href="/sia/applications" th:classappend="${activePage == 'applications'} ? 'active' : ''">
                    <i class="fas fa-clipboard-check"></i>
                    <span>Review Applications</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'Senior Insurance Advisor')}">
                <a class="nav-link" href="/sia/claims" th:classappend="${activePage == 'claims'} ? 'active' : ''">
                    <i class="fas fa-balance-scale"></i>
                    <span>Assess Claims</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'Senior Insurance Advisor')}">
                <a class="nav-link" href="/sia/reports" th:classappend="${activePage == 'reports'} ? 'active' : ''">
                    <i class="fas fa-file-signature"></i>
                    <span>Risk Assessment Reports</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'Finance Officer')}">
                <a class="nav-link" href="/fo/applications" th:classappend="${activePage == 'applications'} ? 'active' : ''">
                    <i class="fas fa-file-invoice-dollar"></i>
                    <span>Calculate Premiums</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'Finance Officer')}">
                <a class="nav-link" href="/fo/payments" th:classappend="${activePage == 'payments'} ? 'active' : ''">
                    <i class="fas fa-money-bill-wave"></i>
                    <span>Process Payments</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'Finance Officer')}">
                <a class="nav-link" href="/fo/payouts" th:classappend="${activePage == 'payouts'} ? 'active' : ''">
                    <i class="fas fa-hand-holding-usd"></i>
                    <span>Process Claim Payouts</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'Finance Officer')}">
                <a class="nav-link" href="/fo/payment-history" th:classappend="${activePage == 'payment-history'} ? 'active' : ''">
                    <i class="fas fa-history"></i>
                    <span>View Payment Histories</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'IT System Analyst')}">
                <a class="nav-link" href="/isa/announcements" th:classappend="${activePage == 'announcements'} ? 'active' : ''">
                    <i class="fas fa-bullhorn"></i>
                    <span>Manage Announcements</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'IT System Analyst')}">
                <a class="nav-link" href="/isa/audit-logs" th:classappend="${activePage == 'audit-logs'} ? 'active' : ''">
                    <i class="fas fa-clipboard-list"></i>
                    <span>View Audit Logs</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'IT System Analyst')}">
                <a class="nav-link" href="#" th:classappend="${activePage == 'system-health'} ? 'active' : ''">
                    <i class="fas fa-heartbeat"></i>
                    <span>System Health</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'HR/Admin Manager')}">
                <a class="nav-link" href="/admin/staff" th:classappend="${activePage == 'staff'} ? 'active' : ''">
                    <i class="fas fa-users-cog"></i>
                    <span>Manage Staff Accounts</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'HR/Admin Manager')}">
                <a class="nav-link" href="/admin/disputes" th:classappend="${activePage == 'disputes'} ? 'active' : ''">
                    <i class="fas fa-gavel"></i>
                    <span>Manage Policy Disputes</span>
                </a>
            </li>
            <li class="nav-item" th:if="${#strings.equals(roleName, 'HR/Admin Manager')}">
                <a class="nav-link" href="/isa/audit-logs" th:classappend="${activePage == 'audit-logs'} ? 'active' : ''">
                    <i class="fas fa-history"></i>
                    <span>View User Activity</span>
                </a>
            </li>
        </ul>
        <div class="logout-section">
            <div class="px-3 py-2">
                <a class="nav-link text-white" href="/profile">
                    <i class="fas fa-user-circle me-2"></i>
                    <span>My Profile</span>
                </a>
            </div>
            <div class="px-3 py-2 border-top border-light-50">
                <a class="nav-link text-white" href="/logout">
                    <i class="fas fa-sign-out-alt me-2"></i>
                    <span>Logout</span>
                </a>
            </div>
        </div>
    </div>

</body>
</html>